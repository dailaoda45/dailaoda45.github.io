---
title: 记录设置docker容器开机自启动
author: 尘归尘|土归土
date: 2024-07-05 15:52:07
tags: [记录]
categories: 文|技

---

# 记录设置docker容器开机自启动

## 一、docker服务设置自动

查看是否设置开机启动 systemctl list-unit-files | grep enable

设置开机启动 systemctl enable docker.service

关闭开机启动 systemctl disable docker.service

##  二、docker容器设置自动启动

启动时加

```
restart-always docker run -tid -name 容器id -p 端口号 -restart-always -v
```

 挂载

Flag Description

## 三、容器启动模式说明

- **`no`** – 此策略永远不会自动启动容器。这是使用 `docker run` 创建的所有容器的默认策略。

- **`always`** – Docker 将确保容器始终运行。如果容器停止，它将立即重新启动。您仍然可以使用 `docker stop` 手动停止容器，但 Docker 会在下次守护进程重新启动时将其恢复。

- **`on-failure`** – 如果容器因错误而停止，它将重新启动。守护进程重启后，Docker 不会启动容器。

- **`unless-stopped`** – 其功能类似于`always`。不同之处在于，如果容器已被手动停止，Docker 将永远不会重新启动容器。

  # 四、已经运行的容器更新启动模式

 如果已经过运行的项目 如果已经启动的项目.则使用update更新：

```
 docker update --restart = always 容器id
```

