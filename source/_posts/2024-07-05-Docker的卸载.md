---
title: Docker的卸载
author: 戴昌益
date: 2024-07-05 15:52:07
tags: [记录]
categories: 文

---

# Docker的卸载

##### 1. 停止Docker的服务：

```shell
sudo systemctl stop docker
```

报错

```
Stopping docker.service, but it can still be activated by: docker.socket
```

原因：

Docker默认开启自动唤醒机制，即docker默认在关闭状态下被访问会自动唤醒Docker。

**查看Docker是否开启自动唤醒机制：**

```
systemctl status docker
```

**停用Docker自动唤醒机制：**

```
systemctl stop docker.socket
```



**查看Docker自动唤醒机制是否关闭：**

```
systemctl status docker
```

发现已经关闭

停用Docker：

```
systemctl stop docker
```

如果回头想要开启自动唤醒机制：***\*systemctl start docker.socket\****，即可开启

##### 2. 删除Docker软件包：

```shell
# 可以使用purge进行删除
# sudo apt-get purge docker-ce
# 正常使用yum命令进行删除
sudo apt remove docker-ce
tip：“purge”是Linux系统中的命令，用于彻底删除软件包及其配置文件。与"remove"命令不同，"purge"命令会删除软件包及其配置文件，包括在软件包安装期间创建的任何配置文件和数据文件。"purge"命令可以确保软件包及其相关文件完全从系统中删除，以释放磁盘空间并避免潜在的冲突和问题。
```

##### 3. 删除Docker镜像、容器和数据卷：

```shell
sudo rm -rf /var/lib/docker
```

##### 4. 删除Docker配置文件：

```shell
sudo rm /etc/docker/daemon.json
```

##### 5. 删除Docker用户组：

```shell
sudo groupdel docker
```

##### 6. 删除Docker安装包：

```shell
sudo rm /usr/bin/docker
```

##### 7. 删除Docker-compose安装包（没有安装包可以忽略）

```shell
sudo rm /usr/local/bin/docker-compose
```